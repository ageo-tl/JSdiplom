!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(e){return Math.pow(e,2)},r=function(e,t,n,o){e.style.opacity=(t+(n-t)*o).toString()},c=function(e,t,n){document.documentElement.scrollTop=e+(t-e)*n},l=function(e,t,n,o,r){e.style.height=(t+(n-t)*r).toString()+o},u=function(e){var t=e.timing,n=e.draw,o=e.duration,r=performance.now();requestAnimationFrame((function e(c){var l=(c-r)/o;l>1&&(l=1),n(t(l)),l<1&&requestAnimationFrame(e)}))},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;e.style.opacity="0",e.style.display="block";var n=r.bind(null,e,0,1);u({timing:o,draw:n,duration:t})},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,n=r.bind(null,e,1,0);u({timing:o,draw:n,duration:t}),setTimeout((function(){e.style.display="none"}),t)},s=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:350,c=parseFloat(n),i=n.replace(/^\-?\d+(\.\d+)?/,""),a=l.bind(null,e,c,0,i);u({timing:o,draw:a,duration:r}),setTimeout((function(){e.classList.remove(t)}),r)},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:350,c=parseFloat(n),i=n.replace(/^\-?\d+(\.\d+)?/,"");e.style.height="0rem",e.classList.add(t);var a=l.bind(null,e,0,c,i);u({timing:o,draw:a,duration:r})},p=document.getElementById("myonoffswitch"),m=document.getElementById("first-sump-diameter"),f=document.getElementById("first-sump-rings"),y=document.getElementById("second-sump-diameter"),h=document.getElementById("second-sump-rings"),v=document.getElementById("myonoffswitch-two"),g=document.getElementById("collapseFour").querySelector("input"),b=document.getElementById("calc-result"),S=function(){var e=p.checked?1e4:15e3,t=+m.value-1+(p.checked?0:+y.value-1),n=+f.value-1+(p.checked?0:+h.value-1),o=v.checked?1e3*(p.checked?1:2):0;return Math.round(e+e*t+e*n+o)};function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var q=function(e,t){var n=document.createElement("div");n.classList.add("status-message"),n.style.cssText="font-size: 2rem; color: SteelBlue;",e.lastElementChild.matches(".status-message")?((n=e.lastElementChild).textContent="Загрузка...",n.style.color="SteelBlue"):(i(n),e.appendChild(n));var o=new FormData(e),r={};o.forEach((function(e,t){r[t]=e})),t&&(r=Object.assign(r,t)),n.textContent="Загрузка...",function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(r).then((function(t){if(200!==t.status)throw new Error("network status is "+t.status+" - "+t.statusText);i(n,100),n.style.color="Green",n.textContent="Спасибо! Мы скоро с Вами свяжемся!",E(e.elements).filter((function(e){return e.matches('input[type="text"]')})).forEach((function(e){e.value=""})),setTimeout((function(){a(n),setTimeout((function(){n.remove()}),500)}),5e3);var o=e.closest(".popup");o&&(setTimeout((function(){a(o)}),3500),o.matches(".popup-consultation")&&(document.querySelector("form.director-form > input").value=""))})).catch((function(e){i(n,100),n.style.color="OrangeRed",n.textContent="Что-то пошло не так...",console.error("Ошибка при отправке данных:",e)}))};function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}document.addEventListener("DOMContentLoaded",(function(){var e=null,t=document.querySelector(".popup-call"),n=document.querySelectorAll(".call-btn[href='#']"),l=document.querySelector(".popup-discount"),E=document.querySelectorAll(".discount-btn"),A=document.querySelector(".construct-btn.call-btn"),x=document.querySelector(".popup-check"),I=document.querySelector(".check-btn"),T=document.querySelector(".popup-consultation"),B=document.querySelector(".consultation-btn"),O=document.querySelector(".add-sentence-btn"),k=document.querySelectorAll(".shadow-block"),j=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=document.documentElement.clientWidth;t=o>768&&o<991&&n?".hidden":".visible-sm-block, .hidden";var r=w(e).filter((function(e){if(e.parentNode.matches(t))return e}));return r.map((function(e){return e.parentNode}))},C=j(k,!1),D=document.getElementById("accordion-two"),F=w(D.querySelectorAll("a[data-parent='#accordion-two']")).map((function(e){return e.closest(".panel-heading")})),L=D.querySelectorAll(".panel-collapse"),_={"collapseOne-two":"14rem","collapseTwo-two":"7.5rem","collapseThree-two":"9.5rem"};L.forEach((function(e){e.style.height=_[e.getAttribute("id")]})),D.querySelectorAll(".panel-default").forEach((function(e){return e.style.overflow="hidden"}));var M=function(e,t){return w(e).filter((function(e){return e.matches("."+t)}))[0]},P=document.getElementById("accordion"),N=w(P.querySelectorAll("a[data-parent='#accordion'][role='button']")).map((function(e){return e.closest(".panel-heading")})),R=P.querySelectorAll(".panel-collapse"),H=P.querySelectorAll("a.construct-btn[data-parent='#accordion']"),z={collapseOne:"20rem",collapseTwo:"32rem",collapseThree:"22rem",collapseFour:"20rem"};R.forEach((function(e){e.style.height=z[e.getAttribute("id")]})),P.querySelectorAll(".panel-default").forEach((function(e){return e.style.overflow="hidden"}));var G=document.querySelector(".constructor .panel-four p"),J=document.getElementById("collapseOne").querySelector(".onoffswitch"),Q=document.getElementById("myonoffswitch"),W=document.getElementById("first-sump"),Y=document.getElementById("second-sump"),K=function(){Q.checked?(W.querySelector(".title-text").textContent="приемный колодец",z.collapseTwo="20.5rem",Y.style.display="none"):(W.querySelector(".title-text").textContent="первый колодец (приемный)",z.collapseTwo="32rem",Y.style.display="block")};K();var U=document.getElementById("calc-result");U.value=S();document.querySelectorAll("form");var V=document.querySelector("form.director-form"),X=document.querySelectorAll(".phone-user"),Z=document.querySelectorAll('input[id^="calc-"]'),$=document.querySelectorAll('input[id^="name_"]'),ee=document.getElementById("user_quest");document.addEventListener("click",(function(S){var q,D=S.target;if(w(n).includes(D)&&(S.preventDefault(),i(t)),D!==t&&D!==t.querySelector(".popup-close")||(S.preventDefault(),a(t)),[].concat(w(E),[A]).includes(D)&&(i(l),A.contains(D)?((q=[]).push({diameter:parseFloat(m[m.options.selectedIndex].textContent),countRings:parseFloat(f[f.options.selectedIndex].textContent)}),p.checked||q.push({diameter:parseFloat(y[y.options.selectedIndex].textContent),countRings:parseFloat(h[h.options.selectedIndex].textContent)}),e={septic:{countSumps:p.checked?1:2,sumps:q,useBottom:v.checked,distance:g.value,prePrice:b.value}}):e=null),D!==l&&D!==l.querySelector(".popup-close")||(S.preventDefault(),a(l),e=null),D===I&&(S.preventDefault(),i(x)),D!==x&&D!==x.querySelector(".popup-close")||(S.preventDefault(),a(x)),D===B&&(S.preventDefault(),i(T),e={userQuestion:V.querySelector("input").value}),D!==T&&D!==T.querySelector(".popup-close")||(S.preventDefault(),a(T),e=null),D===O){O.style.display="none";var P=j(k),Q=C.filter((function(e){return!P.includes(e)}));Q.forEach((function(e){return e.style.cssText="display: block !important;"})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,l=[];e.forEach((function(e){e.style.cssText="opacity: 0; display: block !important;",l.push(r.bind(null,e,0,1))}));var i=document.documentElement.clientHeight,a=window.pageYOffset,s=e[0].offsetTop,d=e[0].offsetHeight,p=null;d>i?s-a>30&&(p=c.bind(null,a,s-30)):s+d-i-a>30&&(p=c.bind(null,a,s+d-i+30)),p&&u({timing:o,draw:p,duration:500});var m=0;l.forEach((function(e){setTimeout((function(){u({timing:o,draw:e,duration:t})}),m),m+=n}))}(P)}if(F.includes(D.closest(".panel-heading"))){S.preventDefault();var W=D.closest(".panel-heading").querySelector("h4>a").getAttribute("href").slice(1),Y=document.getElementById(W);if(Y.classList.contains("in"))return;var U=M(L,"in");s(U,"in",U.style.height),d(Y,"in",_[Y.getAttribute("id")])}if(N.includes(D.closest(".panel-heading"))||w(H).includes(D.closest("a"))){var X;S.preventDefault(),X=D.closest("a.construct-btn")?D.closest("a.construct-btn").getAttribute("href").slice(1):D.closest(".panel-heading").querySelector("h4>a").getAttribute("href").slice(1);var Z=document.getElementById(X);if(Z.classList.contains("in"))return;var $=M(R,"in");Z.contains(G)&&i(G,600),$.contains(G)&&a(G,200),s($,"in",$.style.height),d(Z,"in",z[Z.getAttribute("id")])}J.contains(D)&&K()})),P.addEventListener("change",(function(e){U.value=S()})),document.addEventListener("submit",(function(t){var n=t.target.closest("form");n&&(t.preventDefault(),n.contains(V)||q(n,n.closest(".popup")?e:null))})),document.addEventListener("input",(function(e){var t,n=e.target;[].concat(w(X),w(Z)).includes(n)&&(t=n).value.match(/[^\+\d]/)&&(t.value=t.value.replace(/[^\+\d]/,"")),[].concat(w($),[ee]).includes(n)&&function(e){e.value.match(/[^А-Яа-яЁе ]/)&&(e.value=e.value.replace(/[^А-Яа-яЁе ]/,""))}(n)}))}))}]);
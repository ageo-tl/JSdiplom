!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(e){return Math.pow(e,2)},r=function(e,t,n,o){e.style.opacity=(t+(n-t)*o).toString()},c=function(e,t,n){document.documentElement.scrollTop=e+(t-e)*n},l=function(e,t,n,o,r){e.style.height=(t+(n-t)*r).toString()+o},u=function(e,t,n,o){e.value=Math.floor(+t+(n-t)*o)},i=function(e){var t=e.timing,n=e.draw,o=e.duration,r=performance.now();requestAnimationFrame((function e(c){var l=(c-r)/o;l>1&&(l=1),n(t(l)),l<1&&requestAnimationFrame(e)}))},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;e.style.opacity="0",e.style.display="block";var n=r.bind(null,e,0,1);i({timing:o,draw:n,duration:t})},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,n=r.bind(null,e,1,0);i({timing:o,draw:n,duration:t}),setTimeout((function(){e.style.display="none"}),t)};function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m={"collapseOne-two":"14rem","collapseTwo-two":"7.5rem","collapseThree-two":"9.5rem"},p={collapseOne:"20rem",collapseTwo:"32rem",collapseThree:"22rem",collapseFour:"20rem"},f=function(e,t,n){t.querySelectorAll(".panel-default").forEach((function(e){return e.style.overflow="hidden"})),n.forEach((function(t){t.style.height=e[t.getAttribute("id")]}))},y=f.bind(null,m),h=f.bind(null,p),g=function(e,t){return d(e).filter((function(e){return e.matches("."+t)}))[0]},v=document.getElementById("myonoffswitch"),b=document.getElementById("first-sump"),S=document.getElementById("second-sump"),w=function(){v.checked?(b.querySelector(".title-text").textContent="приемный колодец",p.collapseTwo="20.5rem",S.style.display="none"):(b.querySelector(".title-text").textContent="первый колодец (приемный)",p.collapseTwo="32rem",S.style.display="block")},E=document.getElementById("accordion-two").querySelectorAll(".panel-collapse"),A=document.getElementById("accordion").querySelectorAll(".panel-collapse"),q=document.querySelector(".constructor .panel-four p"),I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:350,c=parseFloat(n),u=n.replace(/^\-?\d+(\.\d+)?/,""),a=l.bind(null,e,c,0,u);i({timing:o,draw:a,duration:r}),setTimeout((function(){e.classList.remove(t)}),r)},x=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:350,c=parseFloat(n),u=n.replace(/^\-?\d+(\.\d+)?/,"");e.style.height="0rem",e.classList.add(t);var a=l.bind(null,e,0,c,u);i({timing:o,draw:a,duration:r})},T=function(e){var t;t=e.closest("a.construct-btn")?e.closest("a.construct-btn").getAttribute("href").slice(1):e.closest(".panel-heading").querySelector("h4>a").getAttribute("href").slice(1);var n=document.getElementById(t);if(!n.classList.contains("in")){var o=g(A,"in");n.contains(q)&&a(q,600),o.contains(q)&&s(q,200),I(o,"in",o.style.height),x(n,"in",p[n.getAttribute("id")])}};function O(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var B=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=document.documentElement.clientWidth;t=o>768&&o<991&&n?".hidden":".visible-sm-block, .hidden";var r=O(e).filter((function(e){if(e.parentNode.matches(t))return e}));return r.map((function(e){return e.parentNode}))},k=document.getElementById("myonoffswitch"),j=document.getElementById("first-sump-diameter"),C=document.getElementById("first-sump-rings"),L=document.getElementById("second-sump-diameter"),F=document.getElementById("second-sump-rings"),D=document.getElementById("myonoffswitch-two"),M=document.getElementById("collapseFour").querySelector("input"),_=document.getElementById("calc-result"),P=function(){var e=k.checked?1e4:15e3,t=+j.value-1+(k.checked?0:+L.value-1),n=+C.value-1+(k.checked?0:+F.value-1),r=D.checked?1e3*(k.checked?1:2):0,c=Math.round(e+e*t+e*n+r),l=u.bind(null,_,_.value,c);i({timing:o,draw:l,duration:350})};function N(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var R={load:{msg:"Загрузка...",color:"SteelBlue"},ok:{msg:"Спасибо! Мы скоро с Вами свяжемся!",color:"Green"},error:{msg:"Что-то пошло не так...",color:"OrangeRed"}},H=document.getElementById("headingOne"),z=function(e,t){a(e,100),e.textContent=R[t].msg,e.style.color=R[t].color},G=function(e,t){var n=document.createElement("div");n.classList.add("status-message"),n.style.cssText="font-size: 2rem; color: SteelBlue;",e.lastElementChild.matches(".status-message")?n=e.lastElementChild:e.appendChild(n);var o=new FormData(e),r={};o.forEach((function(e,t){r[t]=e})),t&&(r=Object.assign(r,t)),z(n,"load"),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(r).then((function(o){if(200!==o.status)throw new Error("network status is "+o.status+" - "+o.statusText);z(n,"ok"),N(e.elements).filter((function(e){return e.matches('input[type="text"]')})).forEach((function(e){e.value=""})),setTimeout((function(){s(n),setTimeout((function(){n.remove()}),500)}),5e3);var r=e.closest(".popup");r&&(setTimeout((function(){s(r)}),3500),r.matches(".popup-consultation")&&(document.querySelector("form.director-form > input").value=""),r.matches(".popup-discount")&&t&&(k.checked=!0,j.options.selectedIndex=0,C.options.selectedIndex=0,L.options.selectedIndex=0,F.options.selectedIndex=0,D.checked=!0,M.value="",P(),w(),T(H)))})).catch((function(e){z(n,"error"),console.error("Ошибка при отправке данных:",e)}))},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?/[^А-Яа-яЁе ,\.!\?:;-]/:/[^А-Яа-яЁе ]/;e.value.match(n)&&(e.value=e.value.replace(n,""))},Q=function(e){return e.value.trim().length?(e.style.border="",!0):(e.style.border="1px solid red",!1)};function W(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}document.addEventListener("DOMContentLoaded",(function(){var e=null,t=document.querySelector("form.director-form"),n=document.querySelector(".popup-call"),l=document.querySelectorAll(".call-btn[href='#']"),u=document.querySelector(".popup-discount"),d=document.querySelectorAll(".discount-btn"),p=document.querySelector(".construct-btn.call-btn"),f=document.getElementById("calc-distance"),v=document.querySelector(".popup-check"),b=document.querySelector(".check-btn"),S=document.querySelector(".popup-consultation"),A=document.querySelector(".consultation-btn"),q=t.querySelector("input"),O=document.querySelector(".add-sentence-btn"),N=document.querySelectorAll(".shadow-block"),R=B(N,!1),H=document.getElementById("accordion-two"),z=W(H.querySelectorAll("a[data-parent='#accordion-two']")).map((function(e){return e.closest(".panel-heading")})),Y=H.querySelectorAll(".panel-collapse");y(H,Y);var K=document.getElementById("accordion"),U=W(K.querySelectorAll("a[data-parent='#accordion'][role='button']")).map((function(e){return e.closest(".panel-heading")})),V=K.querySelectorAll(".panel-collapse"),X=K.querySelectorAll("a.construct-btn[data-parent='#accordion']");h(K,V);var Z=document.getElementById("collapseOne").querySelector(".onoffswitch");w(),P();var $=document.querySelectorAll(".phone-user"),ee=document.querySelectorAll('input[id^="calc-"]'),te=document.querySelectorAll('input[id^="name_"]'),ne=document.getElementById("user_quest"),oe=function(t,n,o){o!==n&&o!==n.querySelector(".popup-close")||(t.preventDefault(),s(n),e=null)};document.addEventListener("click",(function(t){var s,y=t.target;if(W(l).includes(y)&&(t.preventDefault(),a(n)),oe(t,n,y),[].concat(W(d),[p]).includes(y)){var h=!0;p.contains(y)?((s=[]).push({diameter:parseFloat(j[j.options.selectedIndex].textContent),countRings:parseFloat(C[C.options.selectedIndex].textContent)}),k.checked||s.push({diameter:parseFloat(L[L.options.selectedIndex].textContent),countRings:parseFloat(F[F.options.selectedIndex].textContent)}),e={septic:{countSumps:k.checked?1:2,sumps:s,useBottom:D.checked,distance:M.value,prePrice:_.value}},h=Q(f)):e=null,h&&a(u)}if(oe(t,u,y),y===b&&(t.preventDefault(),a(v)),oe(t,v,y),y===A&&(t.preventDefault(),e={userQuestion:q.value},Q(q)&&a(S)),oe(t,S,y),y===O){O.style.display="none";var P=B(N),H=R.filter((function(e){return!P.includes(e)}));H.forEach((function(e){return e.style.cssText="display: block !important;"})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,l=[];e.forEach((function(e){e.style.cssText="opacity: 0; display: block !important;",l.push(r.bind(null,e,0,1))}));var u=document.documentElement.clientHeight,a=window.pageYOffset,s=e[0].offsetTop,d=e[0].offsetHeight,m=null;d>u?s-a>30&&(m=c.bind(null,a,s-30)):s+d-u-a>30&&(m=c.bind(null,a,s+d-u+30)),m&&i({timing:o,draw:m,duration:500});var p=0;l.forEach((function(e){setTimeout((function(){i({timing:o,draw:e,duration:t})}),p),p+=n}))}(P)}z.includes(y.closest(".panel-heading"))&&(t.preventDefault(),function(e){var t=e.closest(".panel-heading").querySelector("h4>a").getAttribute("href").slice(1),n=document.getElementById(t);if(!n.classList.contains("in")){var o=g(E,"in");I(o,"in",o.style.height),x(n,"in",m[n.getAttribute("id")])}}(y)),(U.includes(y.closest(".panel-heading"))||W(X).includes(y.closest("a")))&&(t.preventDefault(),T(y)),Z.contains(y)&&w()})),K.addEventListener("change",(function(){P()})),document.addEventListener("submit",(function(n){var o=n.target.closest("form");o&&(n.preventDefault(),o.contains(t)||G(o,o.closest(".popup")?e:null))})),document.addEventListener("input",(function(e){var t,n=e.target;[].concat(W($),W(ee)).includes(n)&&((t=n).value.match(/[^\d]/)&&(t.value=t.value.replace(/[^\d]/,"")),Q(n)),W(te).includes(n)&&(J(n),Q(n)),ne.contains(n)&&(J(n,!0),Q(n))})),document.addEventListener("mouseover",(function(e){var t=e.target;[].concat(W(z),W(U)).includes(t.closest(".panel-heading"))&&(t.closest(".panel-heading").style.cursor="pointer")}))}))}]);
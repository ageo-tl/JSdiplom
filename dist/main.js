!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(e){return Math.pow(e,2)},o=function(e,t,n,r){e.style.opacity=(t+(n-t)*r).toString()},c=function(e,t,n){document.documentElement.scrollTop=e+(t-e)*n},l=function(e,t,n,r,o){e.style.height=(t+(n-t)*o).toString()+r},u=function(e,t,n,r){e.value=Math.floor(+t+(n-t)*r)},i=function(e){var t=e.timing,n=e.draw,r=e.duration,o=performance.now();requestAnimationFrame((function e(c){var l=(c-o)/r;l>1&&(l=1),n(t(l)),l<1&&requestAnimationFrame(e)}))},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;e.style.opacity="0",e.style.display="block";var n=o.bind(null,e,0,1);i({timing:r,draw:n,duration:t})},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,n=o.bind(null,e,1,0);i({timing:r,draw:n,duration:t}),setTimeout((function(){e.style.display="none"}),t)},d=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:350,c=parseFloat(n),u=n.replace(/^\-?\d+(\.\d+)?/,""),a=l.bind(null,e,c,0,u);i({timing:r,draw:a,duration:o}),setTimeout((function(){e.classList.remove(t)}),o)},m=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:350,c=parseFloat(n),u=n.replace(/^\-?\d+(\.\d+)?/,"");e.style.height="0rem",e.classList.add(t);var a=l.bind(null,e,0,c,u);i({timing:r,draw:a,duration:o})};function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=document.documentElement.clientWidth;t=r>768&&r<991&&n?".hidden":".visible-sm-block, .hidden";var o=f(e).filter((function(e){if(e.parentNode.matches(t))return e}));return o.map((function(e){return e.parentNode}))},y=document.getElementById("myonoffswitch"),h=document.getElementById("first-sump-diameter"),g=document.getElementById("first-sump-rings"),v=document.getElementById("second-sump-diameter"),b=document.getElementById("second-sump-rings"),S=document.getElementById("myonoffswitch-two"),w=document.getElementById("collapseFour").querySelector("input"),E=document.getElementById("calc-result"),A=function(){var e=y.checked?1e4:15e3,t=+h.value-1+(y.checked?0:+v.value-1),n=+g.value-1+(y.checked?0:+b.value-1),o=S.checked?1e3*(y.checked?1:2):0,c=Math.round(e+e*t+e*n+o),l=u.bind(null,E,E.value,c);i({timing:r,draw:l,duration:350})};function q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var I={load:{msg:"Загрузка...",color:"SteelBlue"},ok:{msg:"Спасибо! Мы скоро с Вами свяжемся!",color:"Green"},error:{msg:"Что-то пошло не так...",color:"OrangeRed"}},T=function(e,t){a(e,100),e.textContent=I[t].msg,e.style.color=I[t].color},x=function(e,t){var n=document.createElement("div");n.classList.add("status-message"),n.style.cssText="font-size: 2rem; color: SteelBlue;",e.lastElementChild.matches(".status-message")?n=e.lastElementChild:e.appendChild(n);var r=new FormData(e),o={};r.forEach((function(e,t){o[t]=e})),t&&(o=Object.assign(o,t)),T(n,"load"),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(o).then((function(t){if(200!==t.status)throw new Error("network status is "+t.status+" - "+t.statusText);T(n,"ok"),q(e.elements).filter((function(e){return e.matches('input[type="text"]')})).forEach((function(e){e.value=""})),setTimeout((function(){s(n),setTimeout((function(){n.remove()}),500)}),5e3);var r=e.closest(".popup");r&&(setTimeout((function(){s(r)}),3500),r.matches(".popup-consultation")&&(document.querySelector("form.director-form > input").value=""))})).catch((function(e){T(n,"error"),console.error("Ошибка при отправке данных:",e)}))},O=function(e){return e.value.trim().length?(e.style.border="",!0):(e.style.border="1px solid red",!1)};function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k={"collapseOne-two":"14rem","collapseTwo-two":"7.5rem","collapseThree-two":"9.5rem"},B={collapseOne:"20rem",collapseTwo:"32rem",collapseThree:"22rem",collapseFour:"20rem"},C=function(e,t,n){t.querySelectorAll(".panel-default").forEach((function(e){return e.style.overflow="hidden"})),n.forEach((function(t){t.style.height=e[t.getAttribute("id")]}))},F=C.bind(null,k),L=C.bind(null,B),D=function(e,t){return j(e).filter((function(e){return e.matches("."+t)}))[0]},M=document.getElementById("myonoffswitch"),_=document.getElementById("first-sump"),P=document.getElementById("second-sump"),N=function(){M.checked?(_.querySelector(".title-text").textContent="приемный колодец",B.collapseTwo="20.5rem",P.style.display="none"):(_.querySelector(".title-text").textContent="первый колодец (приемный)",B.collapseTwo="32rem",P.style.display="block")};function R(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}document.addEventListener("DOMContentLoaded",(function(){var e=null,t=document.querySelector("form.director-form"),n=document.querySelector(".popup-call"),l=document.querySelectorAll(".call-btn[href='#']"),u=document.querySelector(".popup-discount"),f=document.querySelectorAll(".discount-btn"),q=document.querySelector(".construct-btn.call-btn"),I=document.getElementById("calc-distance"),T=document.querySelector(".popup-check"),j=document.querySelector(".check-btn"),C=document.querySelector(".popup-consultation"),M=document.querySelector(".consultation-btn"),_=t.querySelector("input"),P=document.querySelector(".add-sentence-btn"),H=document.querySelectorAll(".shadow-block"),z=p(H,!1),G=document.getElementById("accordion-two"),J=R(G.querySelectorAll("a[data-parent='#accordion-two']")).map((function(e){return e.closest(".panel-heading")})),Q=G.querySelectorAll(".panel-collapse");F(G,Q);var W=document.getElementById("accordion"),Y=R(W.querySelectorAll("a[data-parent='#accordion'][role='button']")).map((function(e){return e.closest(".panel-heading")})),K=W.querySelectorAll(".panel-collapse"),U=W.querySelectorAll("a.construct-btn[data-parent='#accordion']");L(W,K);var V=document.querySelector(".constructor .panel-four p"),X=document.getElementById("collapseOne").querySelector(".onoffswitch");N(),A();var Z=document.querySelectorAll(".phone-user"),$=document.querySelectorAll('input[id^="calc-"]'),ee=document.querySelectorAll('input[id^="name_"]'),te=document.getElementById("user_quest"),ne=function(t,n,r){r!==n&&r!==n.querySelector(".popup-close")||(t.preventDefault(),s(n),e=null)};document.addEventListener("click",(function(t){var A,x=t.target;if(R(l).includes(x)&&(t.preventDefault(),a(n)),ne(t,n,x),[].concat(R(f),[q]).includes(x)){var F=!0;q.contains(x)?((A=[]).push({diameter:parseFloat(h[h.options.selectedIndex].textContent),countRings:parseFloat(g[g.options.selectedIndex].textContent)}),y.checked||A.push({diameter:parseFloat(v[v.options.selectedIndex].textContent),countRings:parseFloat(b[b.options.selectedIndex].textContent)}),e={septic:{countSumps:y.checked?1:2,sumps:A,useBottom:S.checked,distance:w.value,prePrice:E.value}},F=O(I)):e=null,F&&a(u)}if(ne(t,u,x),x===j&&(t.preventDefault(),a(T)),ne(t,T,x),x===M&&(t.preventDefault(),e={userQuestion:_.value},O(_)&&a(C)),ne(t,C,x),x===P){P.style.display="none";var L=p(H),G=z.filter((function(e){return!L.includes(e)}));G.forEach((function(e){return e.style.cssText="display: block !important;"})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,l=[];e.forEach((function(e){e.style.cssText="opacity: 0; display: block !important;",l.push(o.bind(null,e,0,1))}));var u=document.documentElement.clientHeight,a=window.pageYOffset,s=e[0].offsetTop,d=e[0].offsetHeight,m=null;d>u?s-a>30&&(m=c.bind(null,a,s-30)):s+d-u-a>30&&(m=c.bind(null,a,s+d-u+30)),m&&i({timing:r,draw:m,duration:500});var f=0;l.forEach((function(e){setTimeout((function(){i({timing:r,draw:e,duration:t})}),f),f+=n}))}(L)}if(J.includes(x.closest(".panel-heading"))){t.preventDefault();var W=x.closest(".panel-heading").querySelector("h4>a").getAttribute("href").slice(1),Z=document.getElementById(W);if(Z.classList.contains("in"))return;var $=D(Q,"in");d($,"in",$.style.height),m(Z,"in",k[Z.getAttribute("id")])}if(Y.includes(x.closest(".panel-heading"))||R(U).includes(x.closest("a"))){var ee;t.preventDefault(),ee=x.closest("a.construct-btn")?x.closest("a.construct-btn").getAttribute("href").slice(1):x.closest(".panel-heading").querySelector("h4>a").getAttribute("href").slice(1);var te=document.getElementById(ee);if(te.classList.contains("in"))return;var re=D(K,"in");te.contains(V)&&a(V,600),re.contains(V)&&s(V,200),d(re,"in",re.style.height),m(te,"in",B[te.getAttribute("id")])}X.contains(x)&&N()})),W.addEventListener("change",(function(){A()})),document.addEventListener("submit",(function(n){var r=n.target.closest("form");r&&(n.preventDefault(),r.contains(t)||x(r,r.closest(".popup")?e:null))})),document.addEventListener("input",(function(e){var t,n=e.target;[].concat(R(Z),R($)).includes(n)&&((t=n).value.match(/[^\d]/)&&(t.value=t.value.replace(/[^\d]/,"")),O(n)),[].concat(R(ee),[te]).includes(n)&&(!function(e){e.value.match(/[^А-Яа-яЁе ]/)&&(e.value=e.value.replace(/[^А-Яа-яЁе ]/,""))}(n),O(n))}))}))}]);